!function(n,e){"use strict";var t=!0,i=navigator.userAgent,c=i.indexOf("Breeze")>=0,o=function(n){t&&console.log(n)},l=function(n,e){this.token=null,this.succCallback=n,this.failCallback=e},r={},a=0,s=function(){return a++,a>=65535&&(a=0),a},u=function(){for(;a in r;)s();return a},f=function(n){var e=u();n.token=e,r[e]=n,o("{msg:'[registerContext]',token:"+e+",context:"+JSON.stringify(n)+"}")},b=function(){};b.prototype={},b.call=function(n,e,t,i,r){if(!c)return void o("not support breeze");var a=new l(i,r);f(a);var s={plugin:n,method:e,params:t,info:JSON.stringify(a)};o(JSON.stringify(s)),window.prompt(JSON.stringify(s),"hybrid://protocol/breeze")},b.callback=function(n,e,t){return c?void(n in r&&(o("{msg:'[callback] find context succssed.', token:"+n+"}"),"successed"==e?(o("{msg:'[callback] execute succssed callback.', token:"+n+"}"),r[n].succCallback(t)):"failed"==e&&(o("{msg:'[callback] execute failed callback.', token:"+n+"}"),r[n].failCallback(t)))):void o("not support breeze")},e.Breeze=b}(window,window.lib||(window.lib={}));